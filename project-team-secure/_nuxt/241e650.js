(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{242:function(t,e,n){var content=n(256);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("62fac366",content,!0,{sourceMap:!1})},243:function(t,e,n){var content=n(258);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("6358a4a5",content,!0,{sourceMap:!1})},245:function(t,e,n){"use strict";n.r(e);n(23);var o=n(2),r=n(247),c=n(248),l={components:{Comment:r.default,NewComment:c.default},props:{postTitle:{type:String},postBody:{type:String},user:{type:String},timestamp:{type:String},comments:{type:Array,default:[]},postId:{type:String}},data:function(){return{userProfileImage:n(167),newComment:!1}},methods:{timestampToDate:function(t){return new Date(t).toLocaleString("it-IT")},addComment:function(content){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n={}).id=t.generateUUID(),n.postId=t.postId,n.content=content,e.next=6,t.$store.dispatch("store/addComment",n);case 6:e.sent,t.newComment=!1,t.$emit("reload");case 9:case"end":return e.stop()}}),e)})))()}}},m=(n(257),n(8)),component=Object(m.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.newComment?n("div",[n("NewComment",{attrs:{postId:t.postId},on:{save:t.addComment,cancel:function(e){t.newComment=!t.newComment}}})],1):n("div",[n("div",{staticClass:"mt-5"},[n("div",{staticClass:"card post"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-left"},[n("figure",{staticClass:"image is-48x48"},[n("img",{attrs:{src:t.userProfileImage,alt:"Profile Image"}})])]),t._v(" "),n("div",{staticClass:"media-content"},[n("p",{staticClass:"title is-4"},[t._v(t._s(t.user))])])]),t._v(" "),n("div",{staticClass:"content"},[n("h2",{staticClass:"title is-5"},[t._v(t._s(t.postTitle))]),t._v("\n            "+t._s(t.postBody)+"\n            "),n("br"),t._v(" "),n("time",[t._v(t._s(t.timestampToDate(t.timestamp)))])])]),t._v(" "),n("footer",{staticClass:"card-footer"},[n("a",{staticClass:"card-footer-item",on:{click:function(e){t.newComment=!t.newComment}}},[t._v("Commenta")])])]),t._v(" "),t.comments.length>0?n("div",{staticClass:"comments mt-2"},t._l(t.comments,(function(t){return n("Comment",{key:t.id,attrs:{comment:t.comment,user:t.user.name}})})),1):t._e()])])])}),[],!1,null,"53df7893",null);e.default=component.exports;installComponents(component,{Comment:n(247).default,NewComment:n(248).default})},246:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{post:{title:null,content:null}}}},r=n(8),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-5"},[n("b-field",{attrs:{label:"Titolo"}},[n("b-input",{model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),t._v(" "),n("b-field",{attrs:{label:"Contenuto"}},[n("b-input",{attrs:{maxlength:"500",type:"textarea"},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}})],1),t._v(" "),n("div",{staticClass:"buttons mt-5"},[n("b-button",{attrs:{type:"is-success",expanded:""},on:{click:function(e){return t.$emit("save",t.post)}}},[t._v("Publish")])],1),t._v(" "),n("div",{staticClass:"buttons mt-5"},[n("b-button",{attrs:{type:"is-warning",expanded:""},on:{click:function(e){return t.$emit("cancel")}}},[t._v("Cancel")])],1)],1)}),[],!1,null,null,null);e.default=component.exports},247:function(t,e,n){"use strict";n.r(e);var o={props:{comment:{type:String},user:{type:String}}},r=(n(255),n(8)),component=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comment-container"},[e("p",{staticClass:"is-size-5 has-text-weight-bold"},[this._v("\n    "+this._s(this.user)+"\n  ")]),this._v(" "),e("p",[this._v(this._s(this.comment))])])}),[],!1,null,"f88f16a6",null);e.default=component.exports},248:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{comment:null}},props:{postId:{type:String}}},r=n(8),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-5"},[n("b-field",{attrs:{label:"Commento"}},[n("b-input",{attrs:{maxlength:"500",type:"textarea"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),t._v(" "),n("div",{staticClass:"buttons mt-5"},[n("b-button",{attrs:{type:"is-success",expanded:""},on:{click:function(e){return t.$emit("save",t.comment)}}},[t._v("Publish")])],1),t._v(" "),n("div",{staticClass:"buttons mt-5"},[n("b-button",{attrs:{type:"is-warning",expanded:""},on:{click:function(e){return t.$emit("cancel")}}},[t._v("Cancel")])],1)],1)}),[],!1,null,null,null);e.default=component.exports},255:function(t,e,n){"use strict";n(242)},256:function(t,e,n){(e=n(28)(!1)).push([t.i,".comment-container[data-v-f88f16a6]{width:90%;margin:.5em auto;padding:.5em;background-color:#fff;border-bottom-left-radius:1em;border-bottom-right-radius:1em}",""]),t.exports=e},257:function(t,e,n){"use strict";n(243)},258:function(t,e,n){(e=n(28)(!1)).push([t.i,".post[data-v-53df7893]{border-radius:1em}",""]),t.exports=e},262:function(t,e,n){"use strict";n.r(e);n(23);var o=n(2),r=n(245),c=n(246),l={components:{Post:r.default,NewPost:c.default},data:function(){return{posts:[],newPost:!1}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPosts();case 2:case"end":return e.stop()}}),e)})))()},methods:{addPost:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.newPost=!1,t.id=e.generateUUID(),t.img=null,n.next=5,e.$store.dispatch("store/addPost",t);case 5:return n.sent,n.next=8,e.getPosts();case 8:case"end":return n.stop()}}),n)})))()},getPosts:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("store/getPostsComments");case 2:return n=e.sent,t.posts=n,e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})))()}}},m=n(8),component=Object(m.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.newPost?n("div",[n("NewPost",{on:{save:t.addPost,cancel:function(e){t.newPost=!t.newPost}}})],1):n("div",[n("div",{staticClass:"buttons mt-5"},[n("b-button",{attrs:{type:"is-primary",expanded:""},on:{click:function(e){t.newPost=!t.newPost}}},[t._v("New Post")])],1),t._v(" "),t._l(t.posts,(function(p){return n("Post",{key:p.postId,attrs:{postId:p.postId,postTitle:p.postTitle,postBody:p.postContent,user:p.user.name,timestamp:p.timestamp,comments:p.comments},on:{reload:t.getPosts}})}))],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Post:n(245).default,NewPost:n(246).default})}}]);